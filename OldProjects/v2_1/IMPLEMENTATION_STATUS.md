# –°—Ç–∞—Ç—É—Å —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ TBot v2.1

## ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ

### 1. –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –∏ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞
- ‚úÖ –ú–æ–¥—É–ª—å–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞
- ‚úÖ PostgreSQL —Å connection pooling (asyncpg)
- ‚úÖ –ú–Ω–æ–≥–æ—Å—Ö–µ–º–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ë–î (core, telegram, employees, monitoring, otrs, cluster)
- ‚úÖ Alembic –¥–ª—è –º–∏–≥—Ä–∞—Ü–∏–π
- ‚úÖ Windows Credential Manager –¥–ª—è —Å–µ–∫—Ä–µ—Ç–æ–≤
- ‚úÖ –£–ª—É—á—à–µ–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è —Å —Ä–æ—Ç–∞—Ü–∏–µ–π
- ‚úÖ Health checks –¥–ª—è —Å–µ—Ä–≤–∏—Å–æ–≤

### 2. –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ –°—Ö–µ–º–∞ –ë–î —Å –ª–æ–≥–∏—á–µ—Å–∫–∏–º —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ–º
- ‚úÖ –ú–æ–¥–µ–ª–∏ SQLAlchemy –¥–ª—è –≤—Å–µ—Ö —Å—É—â–Ω–æ—Å—Ç–µ–π
- ‚úÖ EmployeeRepository –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞–º–∏ (–∑–∞–º–µ–Ω–∞ Excel)
- ‚úÖ –ú–∏–≥—Ä–∞—Ü–∏–∏ Alembic

### 3. Telegram Bot - –û—Å–Ω–æ–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å
- ‚úÖ TelegramBotService —Å —É–ª—É—á—à–µ–Ω–Ω–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–æ–π
- ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ –∫–æ–º–∞–Ω–¥: `/start`, `/botexec`, `/status`, `/mystats`
- ‚úÖ FSM –¥–ª—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ —á–µ—Ä–µ–∑ email
- ‚úÖ Callback handlers –¥–ª—è –ª–æ–±–±–∏ (—Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞, –æ—Ç—á—ë—Ç—ã, —Å—Ç–∞—Ç—É—Å)
- ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ —Ç–µ–∫—Å—Ç–æ–≤—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π
- ‚úÖ –ü–æ–∏—Å–∫ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ –≤ —Ç–æ–ø–∏–∫–µ Excel (–∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å EmployeeRepository)
- ‚úÖ –°–∏—Å—Ç–µ–º–∞ —É–¥–∞–ª–µ–Ω–∏—è —Å–æ–æ–±—â–µ–Ω–∏–π –ø–æ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—é

### 4. –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è
- ‚úÖ AuthHandler —Å FSM-–ø–æ–¥–æ–±–Ω–æ–π –ª–æ–≥–∏–∫–æ–π
- ‚úÖ –û—Ç–ø—Ä–∞–≤–∫–∞ –∫–æ–¥–æ–≤ –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏ –Ω–∞ email
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–¥–æ–≤ —Å –∏—Å—Ç–µ—á–µ–Ω–∏–µ–º —Å—Ä–æ–∫–∞ –¥–µ–π—Å—Ç–≤–∏—è (10 –º–∏–Ω—É—Ç)
- ‚úÖ –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –≤ –ë–î
- ‚úÖ –õ–æ–±–±–∏ –¥–ª—è –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è email –¥–æ–º–µ–Ω–æ–≤

### 5. –ö–ª–∞—Å—Ç–µ—Ä–∏–∑–∞—Ü–∏—è
- ‚úÖ ClusterCoordinator —Å Redis
- ‚úÖ Leader election
- ‚úÖ Heartbeat –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ —É–∑–ª–æ–≤
- ‚úÖ Distributed locks

## üöß –í –ø—Ä–æ—Ü–µ—Å—Å–µ / –ß–∞—Å—Ç–∏—á–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ

### 1. –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Å–µ—Ä–≤–µ—Ä–æ–≤
- ‚ö†Ô∏è –ë–∞–∑–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ ServerMonitorHandler —Å–æ–∑–¥–∞–Ω–∞
- ‚ùå –ü–æ–ª–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è dashboard —Å live-–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ–º
- ‚ùå –ú–µ—Ç—Ä–∏–∫–∏ –≤ –æ—Ç–¥–µ–ª—å–Ω–æ–º —Ç–æ–ø–∏–∫–µ
- ‚ùå –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Å—Ç–∞—Ç—É—Å–∞
- ‚ùå –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π

### 2. OTRS –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
- ‚ö†Ô∏è –ë–∞–∑–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ OTRSHandler —Å–æ–∑–¥–∞–Ω–∞
- ‚ùå –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–æ–≤—ã—Ö —Ç–∏–∫–µ—Ç–æ–≤
- ‚ùå –û—Ç–ø—Ä–∞–≤–∫–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –æ –Ω–æ–≤—ã—Ö –∑–∞—è–≤–∫–∞—Ö
- ‚ùå –û–±—Ä–∞–±–æ—Ç–∫–∞ –¥–µ–π—Å—Ç–≤–∏–π —Å —Ç–∏–∫–µ—Ç–∞–º–∏ (–∑–∞–∫—Ä—ã—Ç—å, –æ—Ç–∫–ª–æ–Ω–∏—Ç—å, –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π)
- ‚ùå –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- ‚ùå –ï–∂–µ–Ω–µ–¥–µ–ª—å–Ω—ã–µ –æ—Ç—á—ë—Ç—ã

### 3. Employee Search
- ‚úÖ EmployeeRepository —Å–æ–∑–¥–∞–Ω
- ‚úÖ –ü–æ–∏—Å–∫ –ø–æ –∏–º–µ–Ω–∏, —Ç–µ–ª–µ—Ñ–æ–Ω—É, IP, —Ä–∞–±–æ—á–µ–π —Å—Ç–∞–Ω—Ü–∏–∏
- ‚ö†Ô∏è –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Telegram (—á–∞—Å—Ç–∏—á–Ω–æ)
- ‚ùå –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –∫–∞–∫ –≤ v2_0

## ‚ùå –ù–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ

### 1. –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
- ‚ùå FastAPI –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
- ‚ùå –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞–º–∏ —á–µ—Ä–µ–∑ –≤–µ–±
- ‚ùå –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏
- ‚ùå –ü—Ä–æ—Å–º–æ—Ç—Ä —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –∏ –º–µ—Ç—Ä–∏–∫

### 2. –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
- ‚ùå –ï–∂–µ–Ω–µ–¥–µ–ª—å–Ω—ã–µ –æ—Ç—á—ë—Ç—ã (–ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫)
- ‚ùå MDaemon –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è (–ø–æ–ª—É—á–µ–Ω–∏–µ –§–ò–û)
- ‚ùå –ü–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è (—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ ID –≤ –ë–î)
- ‚ùå –ü–æ–ª–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ —É–¥–∞–ª–µ–Ω–∏—è —Å–æ–æ–±—â–µ–Ω–∏–π —Å –ë–î

## üìã –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. **–ó–∞–≤–µ—Ä—à–∏—Ç—å –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Å–µ—Ä–≤–µ—Ä–æ–≤**
   - –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å ping –ø—Ä–æ–≤–µ—Ä–∫–∏
   - Dashboard —Å live-–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ–º
   - –ú–µ—Ç—Ä–∏–∫–∏ –∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è

2. **–ó–∞–≤–µ—Ä—à–∏—Ç—å OTRS –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é**
   - –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–æ–≤—ã—Ö —Ç–∏–∫–µ—Ç–æ–≤
   - –û–±—Ä–∞–±–æ—Ç–∫–∞ –¥–µ–π—Å—Ç–≤–∏–π
   - –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏ –æ—Ç—á—ë—Ç—ã

3. **–°–æ–∑–¥–∞—Ç—å –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å**
   - FastAPI –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
   - CRUD –¥–ª—è —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤
   - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏

4. **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**
   - Unit —Ç–µ—Å—Ç—ã
   - Integration —Ç–µ—Å—Ç—ã
   - –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–ª–∞—Å—Ç–µ—Ä–∏–∑–∞—Ü–∏–∏

## üîÑ –£–ª—É—á—à–µ–Ω–∏—è –ø–æ —Å—Ä–∞–≤–Ω–µ–Ω–∏—é —Å v2.0

1. **–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞**
   - –ú–æ–¥—É–ª—å–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –≤–º–µ—Å—Ç–æ –º–æ–Ω–æ–ª–∏—Ç–∞
   - –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –Ω–∞ —Å–µ—Ä–≤–∏—Å—ã –∏ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏
   - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–µ–≤ –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ –¥–∞–Ω–Ω—ã–º

2. **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö**
   - PostgreSQL –≤–º–µ—Å—Ç–æ SQLite
   - –ù–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–∞—è —Å—Ö–µ–º–∞
   - –õ–æ–≥–∏—á–µ—Å–∫–æ–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –ø–æ —Å—Ö–µ–º–∞–º
   - –ú–∏–≥—Ä–∞—Ü–∏–∏ —á–µ—Ä–µ–∑ Alembic

3. **–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è**
   - FSM –≤–º–µ—Å—Ç–æ —Ñ–ª–∞–≥–æ–≤
   - –ë–æ–ª–µ–µ —á–∏—Å—Ç–∞—è –ª–æ–≥–∏–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏–π
   - –£–ª—É—á—à–µ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

4. **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å**
   - –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏
   - Connection pooling
   - –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –≥–¥–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ

5. **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å**
   - Windows Credential Manager –¥–ª—è —Å–µ–∫—Ä–µ—Ç–æ–≤
   - –í–∞–ª–∏–¥–∞—Ü–∏—è –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
   - Audit log (–≤ —Å—Ö–µ–º–µ –ë–î)

6. **–ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å**
   - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –∫–ª–∞—Å—Ç–µ—Ä–∏–∑–∞—Ü–∏–∏
   - –ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–æ–º—É –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—é

