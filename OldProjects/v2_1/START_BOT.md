# Запуск TBot v2.1

## ✅ Все тесты пройдены!

Бот готов к запуску. Все компоненты работают корректно.

## Быстрый запуск

### Вариант 1: Через bat-файл
```powershell
.\run_bot.bat
```

### Вариант 2: Через Python
```powershell
python main\main.py
```

## Что проверено

✅ Подключение к PostgreSQL  
✅ Инициализация настроек  
✅ Репозиторий сотрудников  
✅ Windows Credential Manager (секреты)  
✅ Все обработчики бота  

## Текущая конфигурация

- **TOKEN**: Найден в Credential Manager ✅
- **SUPERCHAT_TOKEN**: -1002985901377 ✅
- **DB_PASSWORD**: Найден в Credential Manager ✅
- **База данных**: Подключение работает ✅

## Что работает

1. **Авторизация через email** - FSM для управления состояниями
2. **Поиск сотрудников** - в топике Excel (ID: из EXCEL_TOPIC_ID)
3. **Команды бота**:
   - `/start` - авторизация/главное меню
   - `/status` - статус авторизации
   - `/mystats` - статистика OTRS
   - `/botexec` - время работы бота
4. **Лобби для авторизованных** - кнопки для навигации

## Следующие шаги

После запуска бота:
1. Проверьте работу авторизации через `/start`
2. Протестируйте поиск сотрудников в топике Excel
3. Проверьте команды бота

## Troubleshooting

Если бот не запускается:
1. Проверьте логи: `logs\tbot.log`
2. Убедитесь, что PostgreSQL запущен
3. Проверьте, что миграции применены: `alembic upgrade head`
4. Проверьте секреты в Credential Manager

