{% for emp in employees %}
<tr id="employee-{{ emp.id }}"
    class="even:bg-slate-50 dark:even:bg-slate-800/50 hover:bg-slate-100 dark:hover:bg-slate-800 cursor-pointer transition-colors"
    :class="{ 'opacity-50': !{{ 'true' if emp.is_active else 'false' }} }"
    hx-get="/api/employees/{{ emp.id }}/form"
    hx-target="#drawer-container"
    hx-swap="innerHTML"
    @click="drawerOpen = true">
    <td class="whitespace-nowrap py-4 pl-4 pr-3 text-sm font-medium text-slate-500 dark:text-slate-400 sm:pl-6">{{ emp.id }}</td>
    <td class="whitespace-nowrap px-3 py-4 text-sm">
        <div class="flex items-center">
            <div class="h-8 w-8 flex-shrink-0 rounded-full bg-indigo-600 flex items-center justify-center">
                <span class="text-xs font-medium text-white">{{ emp.full_name | initials }}</span>
            </div>
            <div class="ml-4">
                <div class="font-medium text-slate-900 dark:text-slate-200">{{ emp.full_name }}</div>
            </div>
        </div>
    </td>
    <td class="whitespace-nowrap px-3 py-4 text-sm text-slate-500 dark:text-slate-400">
        <span class="inline-flex items-center rounded-md px-2 py-1 text-xs font-medium ring-1 ring-inset {{ 'bg-blue-50 text-blue-700 ring-blue-700/10 dark:bg-blue-900/30 dark:text-blue-400' if emp.company == 'MOBI' else ('bg-purple-50 text-purple-700 ring-purple-700/10 dark:bg-purple-900/30 dark:text-purple-400' if emp.company == 'EGR' else ('bg-orange-50 text-orange-700 ring-orange-700/10 dark:bg-orange-900/30 dark:text-orange-400' if emp.company == 'NIK' else 'bg-slate-50 text-slate-600 ring-slate-500/10 dark:bg-slate-800 dark:text-slate-400')) }}">
            {{ emp.company or 'N/A' }}
        </span>
    </td>
    <td class="whitespace-nowrap px-3 py-4 text-sm text-slate-500 dark:text-slate-400">{{ emp.department or '—' }}</td>
    <td class="whitespace-nowrap px-3 py-4 text-sm">
        <code class="rounded bg-slate-100 dark:bg-slate-700 px-[0.3rem] py-[0.2rem] font-mono text-xs font-semibold text-slate-900 dark:text-slate-200">{{ emp.workstation or '—' }}</code>
    </td>
    <td class="whitespace-nowrap px-3 py-4 text-sm text-center">
        <div class="flex justify-center gap-1">
            <span class="h-2 w-2 rounded-full {{ 'bg-green-400' if emp.has_ad else 'bg-slate-200 dark:bg-slate-600' }}" title="AD"></span>
            <span class="h-2 w-2 rounded-full {{ 'bg-green-400' if emp.has_drweb else 'bg-slate-200 dark:bg-slate-600' }}" title="Dr.Web"></span>
            <span class="h-2 w-2 rounded-full {{ 'bg-green-400' if emp.has_zabbix else 'bg-slate-200 dark:bg-slate-600' }}" title="Zabbix"></span>
        </div>
    </td>
    <td class="relative whitespace-nowrap py-4 pl-3 pr-4 text-right text-sm font-medium sm:pr-6">
        <button class="text-indigo-600 hover:text-indigo-900 dark:text-indigo-400 dark:hover:text-indigo-300">Edit</button>
    </td>
</tr>
{% endfor %}
{% if not employees %}
<tr>
    <td colspan="7" class="py-10 text-center text-slate-500 dark:text-slate-400">
        No employees found.
    </td>
</tr>
{% endif %}
